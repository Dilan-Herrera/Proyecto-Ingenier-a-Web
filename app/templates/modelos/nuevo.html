{% extends "base.html" %}

{% block content %}
  <h2>Nuevo modelo de computadora</h2>

  <form method="POST" class="mt-3">

    <div class="mb-3">
      <label class="form-label">Nombre</label>
      <input type="text" name="nombre" class="form-control">
      {% if errors.nombre %}<div class="text-danger">{{ errors.nombre }}</div>{% endif %}
    </div>

    <div class="mb-3">
      <label class="form-label">Código de modelo</label>
      <input type="text" name="codigo_modelo" class="form-control">
      {% if errors.codigo_modelo %}<div class="text-danger">{{ errors.codigo_modelo }}</div>{% endif %}
    </div>

    <div class="row">
      <div class="mb-3 col-md-6">
        <label class="form-label">Marca</label>
        <select name="marca_id" class="form-select">
          <option value="">-- Selecciona una marca --</option>
          {% for marca in marcas %}
            <option value="{{ marca._id }}">{{ marca.nombre }}</option>
          {% endfor %}
        </select>
        {% if errors.marca_id %}<div class="text-danger">{{ errors.marca_id }}</div>{% endif %}
      </div>

      <div class="mb-3 col-md-6">
        <label class="form-label">Perfil de uso</label>
        <select name="perfil_uso_id" class="form-select">
          <option value="">-- Selecciona un perfil --</option>
          {% for perfil in perfiles %}
            <option value="{{ perfil._id }}">{{ perfil.nombre }}</option>
          {% endfor %}
        </select>
        {% if errors.perfil_uso_id %}<div class="text-danger">{{ errors.perfil_uso_id }}</div>{% endif %}
      </div>
    </div>

    <div class="row">
      <div class="mb-3 col-md-3">
        <label class="form-label">Precio (USD)</label>
        <input type="number" step="0.01" name="precio" class="form-control">
        {% if errors.precio %}<div class="text-danger">{{ errors.precio }}</div>{% endif %}
      </div>

      <div class="mb-3 col-md-3">
        <label class="form-label">Rendimiento</label>
        <input type="number" step="0.01" name="rendimiento" class="form-control">
        {% if errors.rendimiento %}<div class="text-danger">{{ errors.rendimiento }}</div>{% endif %}
      </div>

      <div class="mb-3 col-md-3">
        <label class="form-label">Consumo (W)</label>
        <input type="number" step="0.01" name="consumo" class="form-control">
        {% if errors.consumo %}<div class="text-danger">{{ errors.consumo }}</div>{% endif %}
      </div>

      <div class="mb-3 col-md-3">
        <label class="form-label">Temperatura (°C)</label>
        <input type="number" step="0.01" name="temperatura" class="form-control">
        {% if errors.temperatura %}<div class="text-danger">{{ errors.temperatura }}</div>{% endif %}
      </div>
    </div>

    <button class="btn btn-primary" type="submit">Guardar</button>
    <a href="{{ url_for('admin.listar_modelos') }}" class="btn btn-secondary">Cancelar</a>
  </form>
{% endblock %}
